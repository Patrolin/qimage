<!DOCTYPE html>
<html max-size>
    <head>
        <title>hsp_test</title>
        <link rel="stylesheet" href="common.css" />
        <script src="common.js"></script>
    </head>
    <body max-size flex-column justify-center>
        <div flex-row padding-3 gap-3 justify-center>
            <div flex-column gap-1>
                <canvas id="colorBox" width="301" height="301"></canvas>
                <canvas id="colorBoxGrey" width="301" height="301"></canvas>
            </div>
            <div flex-column justify-center>
                <div flex-row gap-2>
                    <span sans width-2>H</span>
                    <input type="range" value="0" min="0" max="255" />
                </div>
                <div flex-row gap-2>
                    <span sans width-2>S</span>
                    <input type="range" value="0" min="0" max="255" />
                </div>
                <div flex-row gap-2>
                    <span sans width-2>P</span>
                    <input type="range" value="0" min="0" max="255" />
                </div>
            </div>
            <div flex-column justify-center gap-2>
                <button onclick="colorBox.toBlob((blob) => window.open(window.URL.createObjectURL(blob), '_blank'));">Save as PNG</button>
                <button onclick="colorBoxGrey.toBlob((blob) => window.open(window.URL.createObjectURL(blob), '_blank'));">
                    Save as PNG
                </button>
            </div>
        </div>
        <script>
            setTimeout(() => {
                // TODO: rbP triangle
                drawHSQCircle("#colorBox");
                P_RED = 0.333;
                P_BLUE = 0.333;
                P_GREEN = 0.333;
                drawColorCircle("#colorBoxGrey", [0, 0, 255]);
            }, 100);
        </script>
    </body>
</html>
